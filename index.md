# üìä Proyecto Final ‚Äì Indicador de Participaci√≥n de Cr√©ditos del BCP

## üè¶ Banco de Cr√©dito del Per√∫ (BCP)

El Banco de Cr√©dito del Per√∫ (BCP) es el banco m√°s grande y antiguo del sistema financiero peruano, con m√°s de 130 a√±os de operaci√≥n y liderazgo en colocaciones y dep√≥sitos a nivel nacional. Forma parte del holding financiero Credicorp y atiende a millones de clientes en personas, pymes y empresas, combinando una amplia red f√≠sica con canales digitales como banca por internet, banca m√≥vil y billeteras digitales como Yape.  

Este proyecto se centra en un **indicador estrat√©gico** que mide la participaci√≥n del BCP en el mercado de cr√©ditos en moneda nacional.

---

## üß∑ Planteamiento del Business Case

Al **31 de mayo de 2025**, el **indicador mensual de participaci√≥n del BCP en el monto total de cr√©ditos otorgados en soles por el sistema bancario peruano** se encuentra en **33.4 %**, clasificado como **sem√°foro amarillo**.  

La meta del business case es que, para el **31 de mayo de 2026**, este indicador se eleve a **36.0 %** (**sem√°foro verde**), reforzando el **liderazgo del BCP en el mercado de colocaciones en moneda nacional**.

---

### üéØ Objetivo del Business Case

Incrementar la participaci√≥n del BCP en el monto total de cr√©ditos otorgados en soles por el sistema bancario peruano:

- **Situaci√≥n actual (may-2025):** 33.4 %  
- **Meta (may-2026):** 36.0 %  
- **Prop√≥sito estrat√©gico:**  
  - Fortalecer el posicionamiento del BCP como banco l√≠der en cr√©ditos en moneda nacional.  
  - Sostener el crecimiento rentable de la cartera, con foco en segmentos de alto potencial.

---

### üß© Estrategia Propuesta

Para alcanzar el objetivo, se plantea una **campa√±a nacional de colocaciones preferenciales** orientada a:

- **Mypes** y **cr√©ditos de consumo** en regiones con menor bancarizaci√≥n.
- Ofertas con **condiciones competitivas** (tasas, plazos y productos).
- **Alianzas con fintechs y canales digitales** para ampliar alcance y capilaridad.
- **Campa√±as de educaci√≥n financiera, publicidad y ferias de cr√©dito** en zonas estrat√©gicas.
- **Bonos por desempe√±o** para asesores comerciales de regiones objetivo.
- **Recompra de cr√©ditos** de clientes actuales para mejorar condiciones y fidelizaci√≥n.

En conjunto, la estrategia busca **aumentar colocaciones**, **profundizar la relaci√≥n con clientes** y **expandir la presencia del BCP** en regiones con oportunidad de crecimiento.

---

### üí∞ Costo‚ÄìBeneficio Esperado

- **Inversi√≥n √∫nica estimada:**  
  - Aproximadamente **S/ 50 millones**, principalmente en campa√±as publicitarias y refuerzo del equipo comercial en campo.
- **Beneficio esperado (escenario de √©xito):**  
  - **Facturaci√≥n adicional mensual estimada:** ~**S/ 9.34 millones** por intereses y comisiones.  
  - **Impacto en el primer a√±o:** alrededor de **S/ 112 millones adicionales** si se sostiene el nuevo nivel del indicador.  

M√°s all√° del impacto financiero directo, la estrategia tambi√©n fortalece la **fidelizaci√≥n de clientes**, la **posici√≥n competitiva del BCP** y la **confianza del mercado** en la gesti√≥n del banco.

---

## üìä Indicador Clave (KPI) del Proyecto

### üè∑Ô∏è Nombre del Indicador

**Indicador mensual de participaci√≥n del BCP en el monto total de cr√©ditos otorgados en soles por el sistema bancario peruano.**

---

### üßæ Definici√≥n

Este indicador mide el **porcentaje de participaci√≥n del BCP** en el total de cr√©ditos otorgados en moneda nacional (soles) por todas las entidades bancarias supervisadas en el pa√≠s.  

Incluye cr√©ditos de:

- Consumo  
- Hipotecarios  
- Empresas (mipymes y grandes empresas)

---

### üìê F√≥rmula

**Participaci√≥n BCP (%) = (Cr√©ditos del BCP en soles) / (Cr√©ditos totales del sistema bancario en soles)**
\]

El resultado se expresa en **porcentaje (%)**.

- **Moneda:** Porcentaje (%)  
- **Frecuencia:** Mensual  

---

### üìâ Impacto Econ√≥mico de 1 punto porcentual (pp)

En el contexto del business case, una variaci√≥n de **1 pp** en la participaci√≥n del BCP en el mercado de cr√©ditos en soles representa del orden de **millones de soles en colocaciones mensuales adicionales o perdidas**.  

Por ello, moverse de **33.4 %** a **36.0 %** no solo es un cambio de color en el sem√°foro, sino una diferencia relevante en **ingresos por intereses y comisiones** y en la **cuota de mercado** del banco.

---

### üö¶ Rangos de Desempe√±o (Sem√°foro)

- üü¢ **Verde:**  
  - Participaci√≥n **‚â• 36 %**  
  - Nivel √≥ptimo de liderazgo y crecimiento del portafolio.
- üü° **Amarillo:**  
  - Participaci√≥n entre **30 % y < 36 %**  
  - Zona de alerta: liderazgo a√∫n vigente, pero con espacio de mejora y riesgo de p√©rdida de mercado.
- üî¥ **Rojo:**  
  - Participaci√≥n **< 30 %**  
  - Zona cr√≠tica: deterioro significativo del posicionamiento competitivo.

---

## üéØ Objetivos del Proyecto de Anal√≠tica y Visualizaci√≥n

El proyecto de Data Visualization tiene como prop√≥sito **traducir este business case en una soluci√≥n anal√≠tica completa**, que permita a la gerencia monitorear, explicar y accionar sobre el KPI.

### Objetivo General

Dise√±ar y desplegar una soluci√≥n de **anal√≠tica y visualizaci√≥n de datos** que permita **seguir mensualmente el indicador de participaci√≥n de cr√©ditos del BCP**, evaluar el impacto de la campa√±a y soportar la toma de decisiones comerciales y estrat√©gicas.

### Objetivos Espec√≠ficos

- **Integrar fuentes de datos internas y externas:**  
  Consolidar informaci√≥n de colocaciones del BCP y del sistema financiero (por producto, segmento, regi√≥n, etc.).

- **Automatizar el c√°lculo del KPI:**  
  Implementar procesos ETL y modelos de datos que calculen el indicador en forma **consistente, trazable y reproducible**.

- **Dise√±ar un modelo de datos de negocio:**  
  Construir un modelo sem√°ntico que permita analizar el KPI por **segmento, regi√≥n, canal, producto, tipo de campa√±a, etc.**

- **Desarrollar dashboards con enfoque de storytelling:**  
  Crear reportes que respondan de forma clara al esquema **‚ÄúWhat? ‚Äì So What? ‚Äì Now What?‚Äù**, mostrando:
  - Situaci√≥n actual del indicador  
  - Brechas frente a la meta  
  - Impacto econ√≥mico  
  - Acciones recomendadas

- **Habilitar an√°lisis de drill-through y detalle:**  
  Permitir que usuarios de negocio naveguen desde vistas ejecutivas hasta el detalle de clientes, productos o regiones.

---

## ‚ú® Resultados Esperados para el Negocio

Con la soluci√≥n anal√≠tica implementada, se espera:

- **Monitoreo estrat√©gico continuo** del KPI, con visibilidad mensual de avances hacia la meta del **36 %**.  
- **Identificaci√≥n temprana de desviaciones** por regi√≥n, segmento o producto, permitiendo ajustar campa√±as en tiempo real.  
- **Medici√≥n clara del retorno de la inversi√≥n (ROI)** de la campa√±a de colocaciones preferenciales.  
- **Alineamiento entre √°reas comerciales, riesgos y planeamiento**, al trabajar con una **misma versi√≥n de la verdad**.  
- Mayor **capacidad de explicar resultados a la alta direcci√≥n**, con reportes claros, trazables y visualmente consistentes.

---
# ‚òÅÔ∏è Soluci√≥n de Negocio Cloud con Microsoft Fabric, Power BI y Azure
## ‚ú® Arquitectura de Datos Moderna para el BCP

Este proyecto implementa una soluci√≥n de anal√≠tica moderna en la nube, dise√±ada para integrar m√∫ltiples fuentes de datos, automatizar procesos ETL y habilitar dashboards ejecutivos que permitan monitorear y accionar sobre el indicador de participaci√≥n de cr√©ditos del BCP.

La arquitectura combina herramientas robustas, escalables y de clase empresarial, asegurando integridad del dato, gobernanza y capacidad de an√°lisis en tiempo real.

üß© Componentes Principales de la Soluci√≥n

a) Microsoft Fabric Warehouse & Data Factory:
Plataforma unificada para orquestar, transformar y consolidar datos empresariales, integrando procesos ETL eficientes.

b) Azure SQL (Staging Layer):
Base de datos estructurada en la nube utilizada como zona de staging para alojar datos transaccionales, fuentes SBS y registros hist√≥ricos.

c) Power BI (Visualizaci√≥n & Modelo Sem√°ntico):
Motor anal√≠tico donde se construye el modelo de negocio, se crean medidas DAX y se dise√±an dashboards ejecutivos con storytelling.

d) Excel / Procesos Operativos:
Canal de entrada y revisi√≥n operativa que permite realizar cargas menores, validaciones o lectura r√°pida de datasets espec√≠ficos.

e) Usuarios Finales / Direcci√≥n / Gesti√≥n Comercial
Reciben la visualizaci√≥n final del KPI, con capacidad de drill-down, comparativos, tendencias e interpretaci√≥n bajo el marco
What? ‚Äì So What? ‚Äì Now What?



## üß± Arquitectura de Datos

En la siguiente secci√≥n se describe la **arquitectura de datos** propuesta para soportar el business case, incluyendo las capas de datos, ETL, almacenamiento y presentaci√≥n.

![Arquitectura de Datos](05-Diagrama-Arquitectura/Arquitectura_soluci√≥n.png)

# üíæ CAPA DE DATOS

## 1. Creaci√≥n de tablas (DDL)

Esta capa contiene la definici√≥n del modelo relacional implementado para soportar el c√°lculo del indicador de participaci√≥n del BCP. Incluye las tablas transaccionales, tablas dimensionales y tablas de referencia provenientes de fuentes internas (BCP) y externas (SBS).

A continuaci√≥n se muestran ejemplos de c√≥digo SQL utilizado para crear las tablas principales del modelo.

### 1.1. Tabla de hechos: DVG3_Desembolsos

```sql
CREATE TABLE dbo.DVG3_Desembolsos (
    DesembolsoID        INT           IDENTITY(1,1) PRIMARY KEY,
    SolicitudID         INT           NOT NULL,
    Fecha               DATE          NOT NULL,
    MontoDesembolsado   DECIMAL(18,2) NOT NULL,
    Tasa                DECIMAL(5,2)  NULL,
    PlazoMeses          INT           NULL,
    NroCuotas           INT           NULL,
    EntidadReceptoraID  INT           NULL
);

CREATE TABLE dbo.DVG3_Solicitudes (
    SolicitudID     INT           IDENTITY(1,1) PRIMARY KEY,
    ClienteID       INT           NOT NULL,
    ProductoID      INT           NOT NULL,
    CanalID         INT           NOT NULL,
    EjecutivoID     INT           NOT NULL,
    SegmentoID      INT           NOT NULL,
    MonedaID        INT           NOT NULL,
    EstadoID        INT           NOT NULL,
    FechaEnvio      DATE          NOT NULL,
    MontoSolicitado DECIMAL(18,2) NOT NULL,
    DocCompleto     BIT           NOT NULL
);

CREATE TABLE dbo.DVG3_Cliente (
    ClienteID     INT          PRIMARY KEY,
    TipoCliente   VARCHAR(50)  NOT NULL,
    RangoEdad     VARCHAR(50)  NULL,
    RangoIngreso  VARCHAR(50)  NULL,
    Ocupacion     VARCHAR(100) NULL,
    AniosBanco    INT          NULL
);

CREATE TABLE dbo.DVG3_Region (
    RegionID      INT          PRIMARY KEY,
    NombreRegion  VARCHAR(100) NOT NULL,
    ZonaComercial VARCHAR(100) NULL
);

CREATE TABLE dbo.TargetTabla (
    AnioMes          CHAR(6)       PRIMARY KEY,      -- formato AAAAMM
    Desembolsos_S   DECIMAL(18,2) NOT NULL,
    MarketShare     DECIMAL(5,2)  NULL,
    Target_S        DECIMAL(18,2) NULL
);

CREATE TABLE dbo.DVG3_Desembolsos (
    DesembolsoID        INT           IDENTITY(1,1) PRIMARY KEY,
    SolicitudID         INT           NOT NULL,
    Fecha               DATE          NOT NULL,
    MontoDesembolsado   DECIMAL(18,2) NOT NULL,
    Tasa                DECIMAL(5,2)  NULL,
    PlazoMeses          INT           NULL,
    NroCuotas           INT           NULL,
    EntidadReceptoraID  INT           NULL
);

CREATE TABLE dbo.DVG3_Solicitudes (
    SolicitudID     INT           IDENTITY(1,1) PRIMARY KEY,
    ClienteID       INT           NOT NULL,
    ProductoID      INT           NOT NULL,
    CanalID         INT           NOT NULL,
    EjecutivoID     INT           NOT NULL,
    SegmentoID      INT           NOT NULL,
    MonedaID        INT           NOT NULL,
    EstadoID        INT           NOT NULL,
    FechaEnvio      DATE          NOT NULL,
    MontoSolicitado DECIMAL(18,2) NOT NULL,
    DocCompleto     BIT           NOT NULL
);

CREATE TABLE dbo.DVG3_Cliente (
    ClienteID     INT          PRIMARY KEY,
    TipoCliente   VARCHAR(50)  NOT NULL,
    RangoEdad     VARCHAR(50)  NULL,
    RangoIngreso  VARCHAR(50)  NULL,
    Ocupacion     VARCHAR(100) NULL,
    AniosBanco    INT          NULL
);

CREATE TABLE dbo.DVG3_Region (
    RegionID      INT          PRIMARY KEY,
    NombreRegion  VARCHAR(100) NOT NULL,
    ZonaComercial VARCHAR(100) NULL
);


CREATE TABLE dbo.DVG3_Campania (
    CampaniaID        INT           PRIMARY KEY,
    CampaniaNombre    VARCHAR(200)  NOT NULL,
    FechaInicio       DATE          NULL,
    FechaFin          DATE          NULL
);


CREATE TABLE dbo.DVG3_EntidadReceptora (
    EntidadID    INT           PRIMARY KEY,
    Nombre       VARCHAR(200)  NOT NULL
);

CREATE TABLE dbo.DVG3_Ejecutivo (
    EjecutivoID       INT           PRIMARY KEY,
    NombreEjecutivo   VARCHAR(200)  NOT NULL,
    EquipoComercial   VARCHAR(100)  NULL,
    SucursalID        INT           NULL
);

CREATE TABLE dbo.DVG3_Sucursal (
    SucursalID        INT           PRIMARY KEY,
    NombreSucursal    VARCHAR(200)  NOT NULL,
    RegionID          INT           NOT NULL
);

CREATE TABLE dbo.DVG3_Canal (
    CanalID       INT           PRIMARY KEY,
    CanalNombre   VARCHAR(200)  NOT NULL,
    TipoCanal     VARCHAR(50)   NULL
);

CREATE TABLE dbo.DVG3_Segmento (
    SegmentoID      INT          PRIMARY KEY,
    NombreSegmento  VARCHAR(200) NOT NULL
);

CREATE TABLE dbo.DVG3_Producto (
    ProductoID     INT           PRIMARY KEY,
    Nombre         VARCHAR(200)  NOT NULL,
    Modalidad      VARCHAR(100)  NULL,
    Tipo           VARCHAR(100)  NULL
);

CREATE TABLE dbo.DVG3_Moneda (
    MonedaID        INT           PRIMARY KEY,
    CodigoMoneda    VARCHAR(10)   NOT NULL,
    TipoMoneda      VARCHAR(50)   NULL
);

CREATE TABLE dbo.DVG3_SolicitudEstado (
    EstadoID           INT           PRIMARY KEY,
    DescripcionEstado  VARCHAR(200)  NOT NULL
);

CREATE TABLE dbo.DVG3_MercadoMensual (
    MercadoMensualID         INT           PRIMARY KEY,
    Fecha                    DATE          NOT NULL,
    CantidadPrestamos        INT           NULL,
    MontoTotalDesembolsado   DECIMAL(18,2) NULL
);

CREATE TABLE dbo.TargetTabla (
    AnioMes          CHAR(6)       PRIMARY KEY,      
    Desembolsos_S    DECIMAL(18,2) NOT NULL,
    MarketShare      DECIMAL(5,2)  NULL,
    Target_S         DECIMAL(18,2) NULL
);

```
### 2. DEFINICI√ìN DE RELACIONES (FOREIGN KEYS)

```sql
ALTER TABLE dbo.DVG3_Desembolsos
ADD CONSTRAINT FK_Desemb_Solicitudes
FOREIGN KEY (SolicitudID)
REFERENCES dbo.DVG3_Solicitudes (SolicitudID);

ALTER TABLE dbo.DVG3_Solicitudes
ADD CONSTRAINT FK_Sol_Cliente
FOREIGN KEY (ClienteID)
REFERENCES dbo.DVG3_Cliente (ClienteID);

ALTER TABLE dbo.DVG3_Solicitudes
ADD CONSTRAINT FK_Sol_Producto
FOREIGN KEY (ProductoID)
REFERENCES dbo.DVG3_Producto (ProductoID);

ALTER TABLE dbo.DVG3_Solicitudes
ADD CONSTRAINT FK_Sol_Canal
FOREIGN KEY (CanalID)
REFERENCES dbo.DVG3_Canal (CanalID);

ALTER TABLE dbo.DVG3_Solicitudes
ADD CONSTRAINT FK_Sol_Ejecutivo
FOREIGN KEY (EjecutivoID)
REFERENCES dbo.DVG3_Ejecutivo (EjecutivoID);

ALTER TABLE dbo.DVG3_Sucursal
ADD CONSTRAINT FK_Sucursal_Region
FOREIGN KEY (RegionID)
REFERENCES dbo.DVG3_Region (RegionID);
```
### üìå 3. INSERCI√ìN DE DATOS (DML)
### üü¶ 3.1. Dimensiones

```sql
INSERT INTO dbo.DVG3_Cliente (ClienteID, TipoCliente, RangoEdad, RangoIngreso, Ocupacion, AniosBanco)
VALUES
 (1001, 'Persona Natural', '25-34', 'S/ 3,001 - S/ 5,000', 'Empleado', 3),
 (1002, 'Persona Natural', '35-44', 'S/ 5,001 - S/ 8,000', 'Independiente', 7);

INSERT INTO dbo.DVG3_Region (RegionID, NombreRegion, ZonaComercial)
VALUES
 (1, 'Lima', 'Zona Central'),
 (2, 'Arequipa', 'Zona Sur'),
 (3, 'Piura', 'Zona Norte');

```

### üü¶ 3.2. Solicitudes

```sql
INSERT INTO dbo.DVG3_Solicitudes
 (ClienteID, ProductoID, CanalID, EjecutivoID, SegmentoID, MonedaID, EstadoID, FechaEnvio, MontoSolicitado, DocCompleto)
VALUES
 (1001, 10, 1, 501, 1, 1, 1, '2025-05-31', 15000.00, 1),
 (1002, 20, 2, 502, 2, 1, 2, '2025-05-31', 80000.00, 0);
```

### üü¶ 3.3. Desembolsos

```sql
INSERT INTO dbo.DVG3_Desembolsos
 (SolicitudID, Fecha, MontoDesembolsado, Tasa, PlazoMeses, NroCuotas, EntidadReceptoraID)
VALUES
 (1, '2025-06-05', 15000.00, 18.50, 36, 36, 1);

```
